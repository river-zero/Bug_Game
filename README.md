## 벌레 게임
게임은 총 두 가지 단계로 구성되어 있습니다. 1단계는 사방으로 돌아다니는 벌레들을 왼쪽 마우스로 클릭해 모두 제거하면 클리어됩니다. 2단계는 마우스를 향해 다가오는 벌레들로부터 10초 동안 지켜내면 클리어됩니다. 해당 프로젝트는 Direct2D를 이용해 구현하였습니다.

## 플레이 영상

## 클래스 설계도
![클래스 설계도](out/Memory_Game/Memory_Game.png)

## 주요 기능
- 벌레 랜덤 생성 및 움직임 구현
  - mt19937 난수 생성기와 std::uniform_real_distribution를 사용해 균등히 랜덤하게 벌레 이미지를 화면에 생성합니다.
  - 벌레가 클라이언트 영역을 벗어나지 않도록 std::clamp를 사용해 범위를 제한하였습니다.

## 시행착오
> 초기에는 벌레의 움직임을 구현하기 위해서 열거형으로 8가지 방향을 설정해 움직이도록 하였습니다. 그러나 이미지가 방향이 틀어지고 움직이는 것이 아닌 벌레가 고정된 그 상태 그대로 움직이게 되어 원하는 방식대로 구현되지 않았습니다. 따라서 해당 움직임을 구현하기 위해서 벡터와 행렬을 적용하는 방식을 배우게 되었고 원하는 방향을 설정할 UPVECTOR, 변환을 나타내는 행렬인 D2D1::Matrix3x2F, 그리고 행렬 곱셈을 사용해 원하는 움직임을 구현하였습니다. 해당 방식을 사용함으로써 물체의 움직임과 변환을 더 자연스럽게 다룰 수 있게 되었고, GPU에서 복잡한 연산을 처리해 매우 빠른 처리가 가능해졌습니다. 또한, 이미지 깨짐 현상도 자연스럽게 보간할 수 있게 되어 성능과 시각적인 품질 향상에 도움이 되었습니다.

> 위 작업을 거쳤지만 여전히 움직임이 부드럽지 못함을 느껴 조금 더 자연스러운 벌레의 움직임을 구현하고자 하였습니다. 따라서 목표 회전 각도를 멤버 변수로 추가하고, 해당 목표 회전 각도가 될 때까지 조금식 이동 및 회전을 하도록 Bug::Draw 함수를 코드를 수정하였습니다. 실행 결과 이미지들이 부드럽게 회전하면서 이동을 하지만 위쪽으로 쏠려 이동하는 문제가 발생하였습니다. 해당 문제를 해결하기 위해서 벌레 이미지들이 생성할 때 시작부터 서로 다른 방향을 가지도록 mRotation 초기화 코드를 수정하였고, 원하는 결과물을 얻게 되었습니다.

> 1단계를 클리어하고 나면 화면에 문구가 출력이 되고, 마우스 왼쪽 버튼을 누르면 2단계로 넘어가도록 하고자 하였습니다. 그런데, 두 번째 벌레 이미지가 생성되는 것은 잘 작동하였으나 마우스 왼쪽 버튼을 누루는 순간 거의 동시에 문구 출력과 벌레 이미지 생성이 이루어져 문구 출력 텍스트가 보이지 않는 문제가 발생했습니다. 이를 해결하기 위해 mBugGenerated 멤버 변수를 추가하였고, 문구 출력 부분과 벌레 이미지 생성 부분 사이에 Sleep(50); 코드를 추가해 간단하게 해결하였습니다.

> 2단계가 시작되고 나서 7초를 버티면 성공, 버티지 못하고 벌레와 마우스가 닿으면 실패 문구를 출력하도록 구현하고자 하였습니다. 7초를 버티면 성공 문구를 출력하는 것까지 완성시켰으나 어째서인지 마우스와 벌레가 서로 닿아도 실패 문구로 전환되지 않는 문제가 발생했습니다. 왜 이런 문제가 발생하는 것인지 코드를 자세히 살펴보았고, Bug 클래스 내 IsClicked 함수에서 Bug의 영역에 클릭이 발생하면 mIsDead를 true로 설정하는 부분에서 if문 조건 중 mIsClickable이 참인 경우에만 mIsDead를 변경 가능한 것을 발견했습니다. mIsClickable 조건이 없어도 제대로 작동함을 확인하였고, 성공/실패 화면 또한 조건에 맞게 그려지는 것을 확인해 해결하였습니다.

## 리소스 목록
|      이름      |   설명    |
| :------------: | :-------: |
| background.jpg |   배경    |
|    bug1.png    | 빨간 벌레 |
|    bug2.png    | 노란 벌레 |

## 출처
- https://www.freepik.com/free-vector/hand-drawn-colorful-bug-collection_4176860.htm#query=bug&position=5&from_view=search&track=sph
- https://www.freepik.com/free-photo/design-space-paper-textured-background_3220799.htm#from_view=detail_author